<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>Juicer Docs</title>
	<link rel="stylesheet" href="docs.css" />
</head>
<body>

<h2>Juicer Docs</h2>

<p><strong>current version: 0.3.1-dev</strong></p>

<p>juicer is a high-performance lightweight javascript template engine, the benefits of using juicer is that you can 
seperate your data and the html structure. it can also running on node.js environment.</p>

<h4>the name of juicer</h4>

<p>if the data is fruit, the template compared to water, through the juicer will be able to put them mixed into html code.</p>

<h4>import juicer.js</h4>

<pre><code>&lt;script type="text/javascript" src="juicer-min.js"&gt;&lt;/script&gt;
</code></pre>

<h2>* License</h2>

<p>juicer is published under the <a href="https://github.com/PaulGuo/Juicer/LICENCE">apache license</a> and hosted on
<a href="https://github.com/PaulGuo/Juicer">github</a>. if you find errors or typos please 
<a href="https://github.com/PaulGuo/Juicer/issues">file an issue</a> or a pull request on the repository.</p>

<h2>* API</h2>

<p>&gt; compile and render the template with given data immediately.</p>

<pre><code>juicer(tpl,data);
--- OR ---
juicer.to_html(tpl,data);
</code></pre>

<p>&gt; only compile the template, it'll return a reusable function for the given `template`.</p>

<pre><code>var tpl=juicer(tpl);
--- OR ---
var tpl=juicer.compile(tpl);
</code></pre>

<p>&gt; render the complied template with given data.</p>

<pre><code>var tpl=juicer(tpl);
var html=tpl.render(data);
--- OR ---
var tpl=juicer.compile(tpl,options);
var html=tpl.render(data);
</code></pre>

<h4>Options</h4>

<pre><code>{
	cache:true/false,
	strip:true/false,
	errorhandling:true/false
}
</code></pre>

<p>if you wanna change the default options, you can do like this:</p>

<pre><code>juicer.set('strip',false);
juicer.set('cache',false);
</code></pre>

<p>cache in the options means that whether cache the pre-compiled templates.</p>

<h2>* Syntax</h2>

<h4>a. ${var}</h4>

<p>using ${} to evaluating expressions and functions.</p>

<pre><code>${name}
${name|function}
</code></pre>

<p>let's use a demo to illustrate this usage.</p>

<pre><code>var json={
	name:'benben',
	age:23
};

var inc=function(number) {
	return number+1;
};

//it'll be 'benben'
juicer.to_html('${name}',json);
//it'll be 24
juicer.to_html('${age|inc}',json);
</code></pre>

<strong>escape/unescape</strong>

<p>it is noteworthy that, for security reasons, ${output} will do escape to the output, if you do not want it to be escaped, you can use $${output} to avoid this. 
for example:</p>

<pre><code>var json={
	value:'&lt;strong&gt;juicer&lt;/strong&gt;'
};

var escapetpl='${value}';
var unescapetpl='$${value}';

juicer(escapetpl,json); //it'll be '&amp;lt;strong&amp;gt;juicer&amp;lt;/strong&amp;gt;'
juicer(unescapetpl,json); //it'll be '&lt;strong&gt;juicer&lt;/strong&gt;'
</code></pre>

<h4>b. {@each} ... {@/each}</h4>

<p>when you need iterate a list, you can use `each` like this.</p>

<pre><code>{@each list as item}
	${item.prop}
{@/each}
</code></pre>

<p>you can also get the index while eaching.</p>

<pre><code>{@each list as item,index}
	${item.prop}
	${index} //index
{@/each}
</code></pre>

<h4>c. {@if} ... {@else} ... {@/if}</h4>

<p>you can also use if-else if you need.</p>

<pre><code>{@each list as item,index}
	{@if index===3}
		the index is 3, the value is ${item.prop}
	{@else}
		the index is not 3, the value is ${item.prop}
	{@/if}
{@/each}
</code></pre>

<h4>d. {# comment}</h4>

<p>you can also write comments in the template code to facilitate future management.</p>

<pre><code>{# some comment here}</code></pre>

<h2>* running on the node.js environment</h2>

<pre><code>bash: npm install juicer
var juicer=require('juicer');
var html=juicer(tpl,data);
</code></pre>

<h2>* demo</h2>

<pre><code>&lt;ul&gt;
	{@each list as it,index}
		&lt;li&gt;${it.name} (index: ${index})&lt;/li&gt;
	{@/each}
	{@each blah as it}
		&lt;li&gt;
			num: ${it.num} &lt;br /&gt;
			{@if it.num==3}
				{@each it.inner as it2}
					${it2.time} &lt;br /&gt;
				{@/each}
			{@/if}
		&lt;/li&gt;
	{@/each}
&lt;/ul&gt;

var data={
	list:[
		{name:'guokai',show:true},
		{name:'benben',show:false},
		{name:'dierbaby',show:true}
	],
	blah:[
		{num:1},
		{num:2},
		{num:3,inner:[
			{'time':'15:00'},
			{'time':'16:00'},
			{'time':'17:00'},
			{'time':'18:00'}
		]},
		{num:4}
	]
};
</code></pre>

</body>
</html>
